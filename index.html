<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- –î–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö -->
    <title>–õ–µ—Å–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</title>
    <style>
        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        .game-container {
            text-align: center;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 90%; /* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            max-width: 600px; /* –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã –¥–ª—è –ü–ö */
        }
        h1 {
            margin: 0 0 15px 0;
            font-size: 1.5em; /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            color: #2e7d32; /* –ó–µ–ª—ë–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è —Ç–µ–º–∞—Ç–∏–∫–∏ –ª–µ—Å–∞ */
        }
        .grid {
            display: grid;
            gap: 2px;
            margin: 20px auto;
            justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–µ—Ç–∫—É –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
            align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) */
        }
        .cell {
            border: 1px solid #ccc;
            font-size: 2em; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —ç–º–æ–¥–∑–∏ –¥–ª—è –ª—É—á—à–µ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∫–ª–µ—Ç–æ–∫ */
            text-align: center;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.3s ease; /* –ü–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }
        .cell:hover {
            transform: scale(1.05); /* –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ (–¥–ª—è –ü–ö) */
        }
        .cell.tree {
            animation: sway 3s infinite ease-in-out; /* –ü–æ–∫–∞—á–∏–≤–∞–Ω–∏–µ –¥–µ—Ä–µ–≤—å–µ–≤ */
        }
        .fertile {
            background-color: #8b4513; /* –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π –¥–ª—è –ø–ª–æ–¥–æ—Ä–æ–¥–Ω–æ–π –∑–µ–º–ª–∏ */
        }
        .unfertile {
            background-color: #a67b5b; /* –°–≤–µ—Ç–ª–æ-–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π –¥–ª—è –Ω–µ–ø–ª–æ–¥–æ—Ä–æ–¥–Ω–æ–π –∑–µ–º–ª–∏ */
        }
        #info {
            margin: 10px 0;
            display: flex;
            justify-content: center;
            gap: 20px; /* –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ */
            flex-wrap: wrap; /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        }
        .counter-block {
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 1em;
            min-width: 120px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
        }
        .seedlings-block {
            background-color: #4CAF50; /* –ó–µ–ª—ë–Ω—ã–π –¥–ª—è —Å–∞–∂–µ–Ω—Ü–µ–≤ */
            color: white;
        }
        .coins-block {
            background-color: #FFD700; /* –ó–æ–ª–æ—Ç–æ–π –¥–ª—è –º–æ–Ω–µ—Ç */
            color: black;
        }
        .score-block {
            background-color: #2196F3; /* –°–∏–Ω–∏–π –¥–ª—è –æ—á–∫–æ–≤ */
            color: white;
        }
        #controls {
            margin: 10px 0;
        }
        progress {
            width: 80%;
            height: 20px;
            margin: 10px auto;
        }
        button {
            padding: 8px 20px;
            font-size: 1em;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.2s ease; /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
        }
        button:hover {
            background-color: #45a049;
            transform: scale(1.05); /* –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }
        #toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            display: none;
            z-index: 1000;
            font-size: 1em;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –¥–µ—Ä–µ–≤—å–µ–≤ */
        @keyframes sway {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ */
        @media screen and (min-width: 768px) { /* –ü–ª–∞–Ω—à–µ—Ç—ã –∏ –ü–ö */
            .game-container {
                max-width: 800px; /* –ë–æ–ª—å—à–µ –¥–ª—è –ü–ö */
                padding: 30px;
            }
            h1 {
                font-size: 2em; /* –ö—Ä—É–ø–Ω–µ–µ –¥–ª—è –ü–ö */
            }
            .grid {
                grid-template-columns: repeat(6, 100px); /* –ö–ª–µ—Ç–∫–∏ –ø–æ–±–æ–ª—å—à–µ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –Ω–∞ –ü–ö */
            }
            .cell {
                width: 100px;
                height: 100px;
                font-size: 2.5em; /* –ï—â—ë –∫—Ä—É–ø–Ω–µ–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –ü–ö */
            }
            #info {
                gap: 30px;
            }
            .counter-block {
                font-size: 1.2em;
                min-width: 150px;
            }
            #controls {
                font-size: 1.2em; /* –ö—Ä—É–ø–Ω–µ–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ü–ö */
            }
            button {
                font-size: 1.1em;
                padding: 10px 25px;
            }
            .cell.tree {
                animation: sway 4s infinite ease-in-out; /* –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞ –ü–ö */
            }
        }

        @media screen and (max-width: 767px) { /* –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ */
            .game-container {
                width: 100%; /* –ù–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω */
                padding: 10px;
                border-radius: 0; /* –£–±–∏—Ä–∞–µ–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                box-shadow: none; /* –£–±–∏—Ä–∞–µ–º —Ç–µ–Ω—å –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–∞ */
            }
            .grid {
                grid-template-columns: repeat(6, 60px); /* –ú–µ–Ω—å—à–∏–µ –∫–ª–µ—Ç–∫–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }
            .cell {
                width: 60px;
                height: 60px;
                font-size: 1.5em; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —ç–º–æ–¥–∑–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }
            #info {
                gap: 10px;
            }
            .counter-block {
                font-size: 0.9em;
                min-width: 100px;
            }
            progress {
                width: 90%;
            }
            .cell.tree {
                animation: sway 2s infinite ease-in-out; /* –ë—ã—Å—Ç—Ä–µ–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }
        }

        @media screen and (min-width: 1920px) { /* –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è 1920x1080 */
            .game-container {
                max-width: 1000px; /* –ë–æ–ª—å—à–µ –¥–ª—è –±–æ–ª—å—à–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ */
                padding: 40px;
            }
            .grid {
                grid-template-columns: repeat(6, 120px); /* –ï—â—ë –∫—Ä—É–ø–Ω–µ–µ –∫–ª–µ—Ç–∫–∏ –¥–ª—è 1920x1080 */
            }
            .cell {
                width: 120px;
                height: 120px;
                font-size: 3em; /* –ï—â—ë –∫—Ä—É–ø–Ω–µ–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –±–æ–ª—å—à–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ */
            }
            #info {
                gap: 40px;
            }
            .counter-block {
                font-size: 1.5em;
                min-width: 180px;
                padding: 15px 20px;
            }
            #controls {
                font-size: 1.5em; /* –ö—Ä—É–ø–Ω–µ–µ —Ç–µ–∫—Å—Ç –¥–ª—è 1920x1080 */
            }
            button {
                font-size: 1.3em;
                padding: 12px 30px;
            }
            progress {
                width: 70%;
                height: 25px;
            }
            .cell.tree {
                animation: sway 4s infinite ease-in-out; /* –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞ –±–æ–ª—å—à–æ–º —ç–∫—Ä–∞–Ω–µ */
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>–õ–µ—Å–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</h1>
        <div id="info">
            <div class="counter-block seedlings-block">–°–∞–∂–µ–Ω—Ü–µ–≤: <span id="seedlings">5</span> üå±</div>
            <div class="counter-block coins-block">–ú–æ–Ω–µ—Ç: <span id="coins">0</span> üí∞</div>
            <div class="counter-block score-block">–û—á–∫–æ–≤: <span id="score">0</span> ‚≠ê</div>
        </div>
        <progress id="levelProgress" value="0" max="4"></progress> <!-- –®–∫–∞–ª–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –¥–ª—è —É—Ä–æ–≤–Ω—è 1 -->
        <div id="controls">
            <button onclick="buySeedlings()">–î–æ–∫—É–ø–∏—Ç—å —Å–∞–∂–µ–Ω—Ü—ã (2 üí∞ –∑–∞ 1 —Å–∞–∂–µ–Ω–µ—Ü)</button>
        </div>
        <div class="grid" id="gameGrid"></div>
    </div>
    <div id="toast"></div> <!-- –¢–æ—Å—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->

    <script>
        const grid = document.getElementById('gameGrid');
        const infoSeedlings = document.getElementById('seedlings');
        const infoCoins = document.getElementById('coins');
        const infoScore = document.getElementById('score');
        const levelProgress = document.getElementById('levelProgress');
        const toast = document.getElementById('toast');
        let level = 1;
        let seedlings = 5; // –ù–∞—á–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–∂–µ–Ω—Ü–µ–≤
        let coins = 0; // –ú–æ–Ω–µ—Ç—ã
        let score = 0;
        const gridSize = 6;
        let gameState = [];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è
        function startLevel() {
            grid.innerHTML = '';
            gameState = [];
            const fertileCount = Math.min(3 + level, gridSize * gridSize - 1); // –û–≥—Ä–∞–Ω–∏—á–∏–º –ø–ª–æ–¥–æ—Ä–æ–¥–Ω—ã–µ –∫–ª–µ—Ç–∫–∏
            const fertileSpots = generateFertileSpots(fertileCount);

            for (let i = 0; i < gridSize; i++) {
                gameState[i] = [];
                for (let j = 0; j < gridSize; j++) {
                    const cell = document.createElement('div');
                    cell.classList.add('cell');
                    if (fertileSpots.some(([x, y]) => x === i && y === j)) {
                        cell.classList.add('fertile');
                        cell.textContent = 'üå±'; // –°–∞–∂–µ–Ω–µ—Ü –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–ª–æ–¥–æ—Ä–æ–¥–Ω–æ–π –∑–µ–º–ª–∏
                    } else {
                        cell.classList.add('unfertile');
                        cell.textContent = 'üèú'; // –ù–µ–ø–ª–æ–¥–æ—Ä–æ–¥–Ω–∞—è –∑–µ–º–ª—è
                    }
                    cell.dataset.row = i;
                    cell.dataset.col = j;
                    cell.addEventListener('click', handleClick); // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è
                    grid.appendChild(cell);
                    gameState[i][j] = { fertile: !!cell.classList.contains('fertile'), content: cell.classList.contains('fertile') ? 'seedling' : 'unfertile' };
                }
            }
            seedlings = Math.max(3, 5 - level); // –£–º–µ–Ω—å—à–∞–µ–º —Å–∞–∂–µ–Ω—Ü—ã —Å —Ä–æ—Å—Ç–æ–º —É—Ä–æ–≤–Ω—è, –º–∏–Ω–∏–º—É–º 3
            coins = Math.max(0, coins - (5 - seedlings) * 2); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç—Ä–∞—Ç–∏–º –º–æ–Ω–µ—Ç—ã –Ω–∞ –¥–æ–∫—É–ø–∫—É, –µ—Å–ª–∏ –∏—Ö –º–∞–ª–æ
            updateProgress(); // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            updateInfo();
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–æ–¥–æ—Ä–æ–¥–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫
        function generateFertileSpots(count) {
            const spots = [];
            while (spots.length < count) {
                const x = Math.floor(Math.random() * gridSize);
                const y = Math.floor(Math.random() * gridSize);
                if (!spots.some(([sx, sy]) => sx === x && sy === y)) {
                    spots.push([x, y]);
                }
            }
            return spots;
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞
        function handleClick(event) {
            const row = parseInt(event.target.dataset.row);
            const col = parseInt(event.target.dataset.col);
            const cell = event.target;

            if (seedlings > 0 && gameState[row][col].fertile && gameState[row][col].content === 'seedling') {
                cell.textContent = 'üå±'; // –°–∞–∂–µ–Ω–µ—Ü
                gameState[row][col].content = 'seedling';
                seedlings--;
                setTimeout(() => {
                    cell.textContent = 'üå≤'; // –î–µ—Ä–µ–≤–æ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                    gameState[row][col].content = 'tree';
                    cell.classList.add('tree'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
                    score += 5;
                    coins += 5; // –î–∞—ë–º 5 –º–æ–Ω–µ—Ç –∑–∞ –¥–µ—Ä–µ–≤–æ
                    checkLevelEnd(); // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ—Å–ª–µ —Ä–æ—Å—Ç–∞
                    updateProgress(); // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                    updateInfo();
                }, 2000);
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ü–∞ —É—Ä–æ–≤–Ω—è
        function checkLevelEnd() {
            const treesLeft = gameState.flat().filter(cell => cell.content === 'tree').length;
            if (treesLeft >= 3 + level) {
                level++;
                seedlings = Math.max(3, 5 - level); // –£–º–µ–Ω—å—à–∞–µ–º —Å–∞–∂–µ–Ω—Ü—ã, –º–∏–Ω–∏–º—É–º 3
                coins = Math.max(0, coins - (5 - seedlings) * 2); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç—Ä–∞—Ç–∏–º –º–æ–Ω–µ—Ç—ã –Ω–∞ –¥–æ–∫—É–ø–∫—É
                score += 10; // –ë–æ–Ω—É—Å –∑–∞ —É—Ä–æ–≤–µ–Ω—å
                alert(`–£—Ä–æ–≤–µ–Ω—å ${level - 1} –ø—Ä–æ–π–¥–µ–Ω! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —É—Ä–æ–≤–µ–Ω—å ${level}`);
                startLevel();
            }
        }

        // –î–æ–∫—É–ø–∫–∞ —Å–∞–∂–µ–Ω—Ü–µ–≤ –∑–∞ –º–æ–Ω–µ—Ç—ã
        function buySeedlings() {
            if (coins >= 2) {
                coins -= 2;
                seedlings += 1;
                showToast('–°–∞–∂–µ–Ω–µ—Ü –∫—É–ø–ª–µ–Ω –∑–∞ 2 üí∞!');
                updateInfo();
            } else {
                showToast('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç! –ù—É–∂–Ω–æ 2 üí∞ –∑–∞ —Å–∞–∂–µ–Ω–µ—Ü.');
            }
        }

        // –ü–æ–∫–∞–∑ —Ç–æ—Å—Ç–∞
        function showToast(message) {
            toast.textContent = message;
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000); // –¢–æ—Å—Ç –∏—Å—á–µ–∑–∞–µ—Ç —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É—Ä–æ–≤–Ω—è
        function updateProgress() {
            const treesNeeded = 3 + level;
            const treesLeft = gameState.flat().filter(cell => cell.content === 'tree').length;
            levelProgress.value = treesLeft;
            levelProgress.max = treesNeeded;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        function updateInfo() {
            infoSeedlings.textContent = seedlings;
            infoCoins.textContent = coins;
            infoScore.textContent = score;
        }

        // –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã
        startLevel();
    </script>
</body>
</html>